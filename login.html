<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login/SignUp</title>
    <link rel="stylesheet" href="login.css" type="text/css">
</head>
<body>
    <div id="box">
    <form class="box" id="form1" action="login.php" method="POST">
        <h1>Login</h1>
        <input type="email" name="email_login" placeholder="Email" required>
        <input type="password" name="pwd_login" placeholder="Password" required>
        <input type="submit" name="login" value="Login">
        <input type="button" value="Sign Up" onclick="signup()">
    </form>
    </div>
    <div id="box1" style="display: none;">
    <form class="box" id="form2" action="create_user.php" method="POST" onsubmit="return validate()">
        <h1>SignUp</h1>
        <input type="text" name="fname" placeholder="First Name" maxlength="15" required>
        <input type="text" name="lname" placeholder="Last Name" maxlength="15" required>
        <input type="email" name="email" placeholder="College Email:- @du.ac.in" id="email" required>
        <input type="password" name="pwd" placeholder="Password" maxlength="30" pattern="(?=.*\d)(?=.*\W+)(?=.*[a-z])(?=.*[A-Z]).{8,}" id="pwd" required>
        <input type="password" name="" placeholder="Confirm Password" maxlength="30" pattern="(?=.*\d)(?=.*\W+)(?=.*[a-z])(?=.*[A-Z]).{8,}" id="cpwd" required>
        <br><span style="color: #3498db;font-size: 1.2vw;">Enter Password containing 1 number,uppercase,lowercase,symbol each.</span>
        <input type="number" name="age" placeholder="Age" min="12" required>
        <input type="tel" name="tel" placeholder="Phone Number" required>
        <br>
        <textarea name="Bio" id="About" cols="50" rows="5" required placeholder="Write About Yourself"></textarea>
        <input type="submit" name="signup" value="Sign Up">
    </form>
    </div>
    <script>
        let log=document.getElementById('box');
        let sign=document.getElementById('box1');
        function signup()
        {
            log.style.display="none";
            sign.style.display="block";
        }
        function validate() {
            let e=document.getElementById('email').value;
            let e_temp=e.split("@");
            let p=document.getElementById('pwd').value;
            let cp=document.getElementById('cpwd').value;
            
            if(p===cp)
            {
                if(e_temp[e_temp.length-1]=='du.ac.in')
                {
                    const inputs=document.getElementsByTagName("input");
                    for (let index = 0; index < inputs.length; index++) {
                        const element=inputs[index].value;
                        for (let j = 0; j < element.length; j++) {
                            if(element.charAt(j)=="'"||element.charAt(j)=='"'||element.charAt(j)=="`"||element.charAt(j)=="%"||element.charAt(j)=="_")
                            {
                                alert("Please remove ',`,%,_ or quotoation mark if any.");
                                return false; 
                            }
                        }
                    }
                    let ta=document.getElementById("About").value;
                    for (let j = 0; j < ta.length; j++) {
                        if(ta.charAt(j)=="'"||ta.charAt(j)=='"'||ta.charAt(j)=="`"||ta.charAt(j)=="%"||ta.charAt(j)=="_")
                        {
                            alert("Please remove ',`,%,_ or quotoation mark if any.");
                            return false; 
                        }
                    }
                    return true;
                }
                else
                {
                    alert('Please Enter correct email address.');
                    return false;
                }
            }
            else{
                alert('Please Enter same password in both "Password" fields.');
                return false;
            }
        }
    </script>
</body>
</html>